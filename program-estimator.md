---

copyright:
  years: 2021, 2022
lastupdated: "2022-11-01"

keywords: quantum, Qiskit, runtime, near time compute

subcollection: quantum-computing
---
{{site.data.keyword.attribute-definition-list}}

# Estimator class
{: #program-estimator}


Use this class to interact with the Qiskit Runtime Estimator primitive.
{: shortdesc}

## Overview
{: #estimator-overview}

The Estimator primitive returns an observable expectation value that is generated by given circuits that are run on the target backend. The `run()` can be used to submit circuits, observables, and parameters to the Estimator primitive.

You are encouraged to use `Session` to open a session, during which you can invoke one or more primitive programs. Jobs submitted within a session are prioritized by the scheduler, and data is cached for efficiency.

For a full, end-to-end example of how to use this primitive, see [Get started with Estimator](/docs/quantum-computing?topic=quantum-computing-example-estimator).

The maximum execution time is 18000 seconds (5 hours), unless you set a smaller value in the Session `max_time` parameter (This parameter is experimental).

## Parameters
{: #estimator-parameters}

Specify these parameters to initialize the Estimator primitive. Any specified lists should be of the same length.

- **Input parameters**:
    - **session** (Union[Session, str, IBMBackend, None]) â€“
        - **Description**: Session in which to call the primitive.

          If an instance of `qiskit_ibm_runtime.IBMBackend` class or string name of a backend is specified, a new session is created for that backend, unless a default session for the backend already exists.

          If `None`, a new session is created using the default saved account and a default backend, unless a default session already exists.
    - **circuits - DEPRECATED**:
        - **Description**: A `QuantumCircuit` or list of objects of type `QuantumCircuit`. The circuits can be parameterized. This parameter is now specified in the `run()` method of the `Estimator` class.
        - **Required**: False
    - **observables - DEPRECATED:**
        - **Description**: A list of `SparsePauliOp`. This parameter is now specified in the `run()` method of the `Estimator` class.
        - **Required**: False
    - **parameters - DEPRECATED**
        - **Description**: A list of parameters for the quantum circuits. This is (`ParameterView` or a list of `Parameter` objects), specifying the order in which parameter values will be bound to the quantum circuits. The circuits can be parameterized. This parameter is now specified in the `run()` method of the `Estimator` class.
        - **Required**: False
    - **skip_transpilation - DEPRECATED**:
        - **Description**: Skip circuit transpilation. The default value is False. The circuits can be parameterized. This parameter is now specified in the `Options` `transpilation` setting:  `options = Options(transpilation={"skip_transpilation": True})`.
        - **Required**: False.
    - **service - DEPRECATED**:
        - **Description**: Optional instance of qiskit_ibm_runtime.QiskitRuntimeServiceclass.  The default value is QiskitRuntimeService(), which tries to initialize your default saved account. This parameter can now be specified when you initialize a Session instance.
        - **Required**: False.
    - **options**        
        - **Type**: dictionary or `Options` class    
        - **Description**: Runtime settings that control the execution environment.
        - **Required**: False   
            - **backend**: Optional instance of `qiskit_ibm_runtime.IBMBackend` class or string name of backend. If not specified, the least busy backend is used. This parameter can now be specified when you initialize a Session instance.
        - **image**: The runtime image used to run the program, specified in the form `image_name:tag`. Not all accounts are authorized to select a different image.
        - **log_level - DEPRECATED**: Logging level to set in the execution environment. The valid log levels are: DEBUG, INFO, WARNING, ERROR, and CRITICAL. The default level is WARNING. This parameter is now specified in `Options()`

## Example
{: #estimator-example-code}

```Python
from qiskit.circuit.library import RealAmplitudes
from qiskit.quantum_info import SparsePauliOp

from qiskit_ibm_runtime import QiskitRuntimeService, Estimator

service = QiskitRuntimeService(channel="ibm_cloud")

psi1 = RealAmplitudes(num_qubits=2, reps=2)

H1 = SparsePauliOp.from_list([("II", 1), ("IZ", 2), ("XI", 3)])
H2 = SparsePauliOp.from_list([("IZ", 1)])
H3 = SparsePauliOp.from_list([("ZI", 1), ("ZZ", 1)])

with Session(service=service, backend="ibmq_qasm_simulator") as session:
    estimator = Estimator(session=session)

    theta1 = [0, 1, 1, 2, 3, 5]

    # calculate [ <psi1(theta1)|H1|psi1(theta1)> ]
    psi1_H1 = estimator.run(circuits=[psi1], observables=[H1], parameter_values=[theta1])
    print(psi1_H1.result())

    # calculate [ <psi1(theta1)|H2|psi1(theta1)>, <psi1(theta1)|H3|psi1(theta1)> ]
    psi1_H23 = estimator.run(
        circuits=[psi1, psi1],
        observables=[H2, H3],
        parameter_values=[theta1]*2
    )
    print(psi1_H23.result())
```
{: codeblock}


## Next steps
{: #next-steps}

- Use the [Getting started guide](/docs/quantum-computing?topic=quantum-computing-quickstart) to create an instance and run your first job.
- Review [Get started with the Sampler primitive](/docs/quantum-computing?topic=quantum-computing-example-estimator) for a step-by-step example of using this primitive.
- Use Qiskit [tutorials](https://qiskit.org/documentation/tutorials.html){: external} to learn how to create circuits with Qiskit.
- See the [Qiskit Runtime API Reference](https://qiskit.org/documentation/partners/qiskit_ibm_runtime/apidocs/ibm-runtime.html){: external} for more information.
